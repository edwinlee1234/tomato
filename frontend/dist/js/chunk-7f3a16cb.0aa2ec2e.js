(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f3a16cb"],{"25f0":function(t,a,e){"use strict";var r=e("6eeb"),n=e("825a"),i=e("d039"),o=e("ad6d"),s="toString",c=RegExp.prototype,u=c[s],f=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=s;(f||d)&&r(RegExp.prototype,s,(function(){var t=n(this),a=String(t.source),e=t.flags,r=String(void 0===e&&t instanceof RegExp&&!("flags"in c)?o.call(t):e);return"/"+a+"/"+r}),{unsafe:!0})},"3ca3":function(t,a,e){"use strict";var r=e("6547").charAt,n=e("69f3"),i=e("7dd0"),o="String Iterator",s=n.set,c=n.getterFor(o);i(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,a=c(this),e=a.string,n=a.index;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),a.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,a,e){"use strict";var r=e("0366"),n=e("7b0b"),i=e("9bdd"),o=e("e95a"),s=e("50c4"),c=e("8418"),u=e("35a1");t.exports=function(t){var a,e,f,d,p,l,h=n(t),g="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,m=void 0!==b,y=u(h),A=0;if(m&&(b=r(b,v>2?arguments[2]:void 0,2)),void 0==y||g==Array&&o(y))for(a=s(h.length),e=new g(a);a>A;A++)l=m?b(h[A],A):h[A],c(e,A,l);else for(d=y.call(h),p=d.next,e=new g;!(f=p.call(d)).done;A++)l=m?i(d,b,[f.value,A],!0):f.value,c(e,A,l);return e.length=A,e}},"762c":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"report"}},[e("b-container",[e("b-row",[e("b-col",{staticClass:"box"},[e("ve-pie",{attrs:{data:t.pieData,settings:t.pieChartSettings,events:t.pieChartEvents}}),e("p",{staticClass:"back_btn",on:{click:t.initPieChart}},[t._v("Back")])],1),e("b-col",{staticClass:"box"},[e("ve-line",{attrs:{data:t.lineData,settings:t.lineChartSettings}})],1)],1),e("b-row",[e("b-col",{staticClass:"report_drop_down box"},[e("b-dropdown",{staticClass:"m-2",attrs:{size:"sm",split:"",text:t.dropdownName}},t._l(t.groupList,(function(a,r){return e("b-dropdown-item",{key:r,on:{click:function(e){return t.changeHeatMap(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])})),1),e("ve-heatmap",{attrs:{data:t.heatData}})],1)],1),e("br")],1)],1)},n=[];e("99af"),e("4160"),e("a15b"),e("fb6a"),e("b0c0"),e("159b");function i(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=new Array(a);e<a;e++)r[e]=t[e];return r}function o(t){if(Array.isArray(t))return i(t)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("d3b7"),e("3ca3"),e("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}e("25f0");function c(t,a){if(t){if("string"===typeof t)return i(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,a):void 0}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return o(t)||s(t)||c(t)||u()}var d=e("5530"),p=e("2f62"),l=e("b4eb"),h={name:"Report",data:function(){var t=this;return{pieChartSettings:{dataType:function(t){return t+" Min"}},pieChartEvents:{click:function(a){t.changeTaskChart(a.name)}},lineChartSettings:{},pieData:{columns:["Name","Min"],rows:[]},lineData:{columns:["Date","Min"],rows:[]},heatData:{columns:["Date","Name","Min"],rows:[]},pie:[],line:[],heatmap:[],groupList:[{name:"全部",id:0}],dropdownName:"全部"}},mixins:[l["a"]],computed:Object(d["a"])({},Object(p["b"])({userInfo:function(t){return t.user.info}})),components:{},mounted:function(){!1!==this.userInfo.isLogin?(this.getGroupList(),this.getHeatMap(),this.getReportLine(),this.getReportPie()):window.location.href=this.BASE},methods:{getGroupList:function(){var t=this;this.axios.get(this.APIURL+"/api/groups_name").then((function(a){!0===a.data.result?t.groupList=[].concat(f(t.groupList),f(a.data.data.groups)):t.Alert(a.data.msg)})).catch((function(a){t.Alert(a)}))},getReportLine:function(){var t=this;this.axios.get(this.APIURL+"/api/report/line").then((function(a){!0===a.data.result?Array.isArray(a.data.data.report)&&(t.line=a.data.data.report,t.initLineData()):t.Alert(a.data.msg)})).catch((function(a){t.Alert(a)}))},getReportPie:function(){var t=this;this.axios.get(this.APIURL+"/api/report/pie").then((function(a){!0===a.data.result?Array.isArray(a.data.data.report)&&(t.pie=a.data.data.report,t.initPieChart()):t.Alert(a.data.msg)})).catch((function(a){t.Alert(a)}))},changeHeatMap:function(t,a){this.dropdownName=a,this.heatData.rows=[],0===t?this.getHeatMap():this.getTaskHeatMap(t)},getHeatMap:function(){var t=this;this.axios.get(this.APIURL+"/api/report/group_heatmap").then((function(a){!0===a.data.result?Array.isArray(a.data.data.report)&&(t.heatmap=a.data.data.report,t.initHeatMap()):t.Alert(a.data.msg)})).catch((function(a){t.Alert(a)}))},getTaskHeatMap:function(t){var a=this;this.axios.get(this.APIURL+"/api/report/task_heatmap?group_id="+t).then((function(t){!0===t.data.result?Array.isArray(t.data.data.report)&&(a.heatmap=t.data.data.report,a.initHeatMap()):a.Alert(t.data.msg)})).catch((function(t){a.Alert(t)}))},initHeatMap:function(){var t=this;this.heatmap.forEach((function(a){t.heatData.rows.push({Date:a.date,Name:a.name,Min:Math.floor(a.total_spend_time/60)})}))},initLineData:function(){var t=this;this.line.forEach((function(a){t.lineData.rows.push({Date:a.date,Min:Math.floor(a.total_spend_time/60)})}))},initPieChart:function(){var t=this;this.pieData.rows=[],this.pie.forEach((function(a){t.pieData.rows.push({Name:a.name,Min:Math.floor(a.total_spend_time/60)})}))},changeTaskChart:function(t){var a=this;this.pie.forEach((function(e){e.name==t&&(a.pieData.rows=[],e.tasks.forEach((function(t){a.pieData.rows.push({Name:t.name,Min:Math.floor(t.total_spend_time/60)})})))}))},paddingzero:function(t,a){return(Array(a).join("0")+t).slice(-a)}}},g=h,v=(e("d608"),e("2877")),b=Object(v["a"])(g,r,n,!1,null,"cc6ccc00",null);a["default"]=b.exports},"8a24":function(t,a,e){},"99af":function(t,a,e){"use strict";var r=e("23e7"),n=e("d039"),i=e("e8b5"),o=e("861d"),s=e("7b0b"),c=e("50c4"),u=e("8418"),f=e("65f0"),d=e("1dde"),p=e("b622"),l=e("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",b=l>=51||!n((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=d("concat"),y=function(t){if(!o(t))return!1;var a=t[h];return void 0!==a?!!a:i(t)},A=!b||!m;r({target:"Array",proto:!0,forced:A},{concat:function(t){var a,e,r,n,i,o=s(this),d=f(o,0),p=0;for(a=-1,r=arguments.length;a<r;a++)if(i=-1===a?o:arguments[a],y(i)){if(n=c(i.length),p+n>g)throw TypeError(v);for(e=0;e<n;e++,p++)e in i&&u(d,p,i[e])}else{if(p>=g)throw TypeError(v);u(d,p++,i)}return d.length=p,d}})},a15b:function(t,a,e){"use strict";var r=e("23e7"),n=e("44ad"),i=e("fc6a"),o=e("a640"),s=[].join,c=n!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a630:function(t,a,e){var r=e("23e7"),n=e("4df4"),i=e("1c7e"),o=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:n})},d28b:function(t,a,e){var r=e("746f");r("iterator")},d608:function(t,a,e){"use strict";var r=e("8a24"),n=e.n(r);n.a},ddb0:function(t,a,e){var r=e("da84"),n=e("fdbc"),i=e("e260"),o=e("9112"),s=e("b622"),c=s("iterator"),u=s("toStringTag"),f=i.values;for(var d in n){var p=r[d],l=p&&p.prototype;if(l){if(l[c]!==f)try{o(l,c,f)}catch(g){l[c]=f}if(l[u]||o(l,u,d),n[d])for(var h in i)if(l[h]!==i[h])try{o(l,h,i[h])}catch(g){l[h]=i[h]}}}},e01a:function(t,a,e){"use strict";var r=e("23e7"),n=e("83ab"),i=e("da84"),o=e("5135"),s=e("861d"),c=e("9bf2").f,u=e("e893"),f=i.Symbol;if(n&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),a=this instanceof p?new f(t):void 0===t?f():f(t);return""===t&&(d[a]=!0),a};u(p,f);var l=p.prototype=f.prototype;l.constructor=p;var h=l.toString,g="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;c(l,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,a=h.call(t);if(o(d,t))return"";var e=g?a.slice(7,-1):a.replace(v,"$1");return""===e?void 0:e}}),r({global:!0,forced:!0},{Symbol:p})}},fb6a:function(t,a,e){"use strict";var r=e("23e7"),n=e("861d"),i=e("e8b5"),o=e("23cb"),s=e("50c4"),c=e("fc6a"),u=e("8418"),f=e("b622"),d=e("1dde"),p=e("ae40"),l=d("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),g=f("species"),v=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!l||!h},{slice:function(t,a){var e,r,f,d=c(this),p=s(d.length),l=o(t,p),h=o(void 0===a?p:a,p);if(i(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?n(e)&&(e=e[g],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return v.call(d,l,h);for(r=new(void 0===e?Array:e)(b(h-l,0)),f=0;l<h;l++,f++)l in d&&u(r,f,d[l]);return r.length=f,r}})}}]);
//# sourceMappingURL=chunk-7f3a16cb.0aa2ec2e.js.map